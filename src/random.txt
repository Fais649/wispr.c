


int screenWidth = 960;
int screenHeight = 540;
int padding = 20;

int gridRows = 4;
int gridCols = 6;
int border = 15;
int radius = 30;

void setup()
{
  M5.begin();
  display.clear(TFT_BLACK);
  display.setRotation(1);
  display.setEpdMode(epd_fastest);
  display.setAutoDisplay(false);

  display.setCursor(0, 0);
  for (size_t i = 0; i < gridRows; i++)
  {
    int height = ((screenHeight - (((2 * padding) * gridRows) - gridRows *(padding*gridRows/2))) / gridRows);
    int posY = padding * (1 + i) + (height * i);
    for (size_t j = 0; j < gridCols; j++)
    {
      int width = (screenWidth - (((2 * padding) * gridCols) - gridCols * (padding*gridCols/2))) / gridCols;
      int posX = padding * (1 + j) + (width * j);
      display.waitDisplay();
      display.fillRoundRect(posX - padding/3, posY +padding/3, width, height, 40, TFT_DARKGREY);
      display.fillRoundRect(posX, posY, width, height, 40, TFT_BLACK);
      display.fillRoundRect(posX + border, posY + border, width - 2*border, height - 2*border, radius, TFT_BLACK);
    }
  }
  display.display();
}

void loop(void)
{
}

class Item
{
public:
  Item(String title);
};

class Grid
{
public:
  Grid(int rows, int cols) : _rows(rows), _cols(cols){};
  int getRows();
  int getCols();
  int addItem(Item item);

private:
  int _rows;
  int _cols;
  Item *items[];
};
